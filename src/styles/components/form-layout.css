/* Windows 98 Form Layout Component */

/* Form container */
.win98-form {
  font-family: var(--win98-font-family);
  font-size: var(--win98-font-size-normal);
  color: var(--win98-window-text);
  background-color: var(--win98-control-face);
  padding: var(--win98-spacing-md);
}

/* Field groups */
.win98-field-group {
  margin-bottom: var(--win98-spacing-md);
  display: block;
}

.win98-field-group:last-child {
  margin-bottom: 0;
}

/* Field group with border (group box style) */
.win98-field-group--boxed {
  border: var(--win98-border-width) solid var(--win98-control-dark);
  padding: var(--win98-spacing-md);
  margin: var(--win98-spacing-md) 0;
  position: relative;
}

.win98-field-group--boxed::before {
  content: '';
  position: absolute;
  top: -1px;
  left: -1px;
  right: -1px;
  bottom: -1px;
  border: var(--win98-border-width) solid var(--win98-control-light);
  pointer-events: none;
}

/* Field group title/legend */
.win98-field-group__title {
  font-size: var(--win98-font-size-normal);
  font-weight: var(--win98-font-weight-bold);
  color: var(--win98-window-text);
  margin-bottom: var(--win98-spacing-sm);
  display: block;
}

.win98-field-group--boxed .win98-field-group__title {
  position: absolute;
  top: calc(-0.5 * var(--win98-font-size-normal) - var(--win98-spacing-1));
  left: var(--win98-spacing-sm);
  background-color: var(--win98-control-face);
  padding: 0 var(--win98-spacing-1);
  z-index: 1;
}

/* Field rows */
.win98-field-row {
  display: flex;
  align-items: flex-start;
  gap: var(--win98-spacing-md);
  margin-bottom: var(--win98-spacing-md);
}

.win98-field-row:last-child {
  margin-bottom: 0;
}

.win98-field-row--vertical {
  flex-direction: column;
  align-items: stretch;
  gap: var(--win98-spacing-sm);
}

.win98-field-row--wrap {
  flex-wrap: wrap;
}

/* Field containers */
.win98-field {
  display: flex;
  flex-direction: column;
  gap: var(--win98-spacing-sm);
  flex: 1;
  min-width: 0;
}

.win98-field--horizontal {
  flex-direction: row;
  align-items: center;
  gap: var(--win98-spacing-md);
}

.win98-field--inline {
  display: inline-flex;
  width: auto;
  margin-right: var(--win98-spacing-md);
  margin-bottom: var(--win98-spacing-sm);
}

/* Labels */
.win98-label {
  font-family: var(--win98-font-family);
  font-size: var(--win98-font-size-normal);
  font-weight: var(--win98-font-weight-normal);
  color: var(--win98-window-text);
  cursor: default;
  display: block;
  line-height: var(--win98-line-height-normal);
}

.win98-label--required::after {
  content: ' *';
  color: var(--win98-error-text);
  font-weight: var(--win98-font-weight-bold);
}

.win98-label--disabled {
  color: var(--win98-disabled-text);
}

.win98-label--inline {
  display: inline-block;
  margin-right: var(--win98-spacing-sm);
  vertical-align: top;
  white-space: nowrap;
}

/* Fixed width labels for alignment */
.win98-label--fixed-width {
  width: 120px;
  flex-shrink: 0;
}

.win98-label--narrow {
  width: 80px;
}

.win98-label--wide {
  width: 160px;
}

/* Help text */
.win98-help-text {
  font-size: var(--win98-font-size-small);
  color: var(--win98-disabled-text);
  margin-top: var(--win98-spacing-1);
  line-height: var(--win98-line-height-normal);
}

.win98-help-text--inline {
  display: inline;
  margin-left: var(--win98-spacing-sm);
}

/* Field validation messages */
.win98-field-message {
  font-size: var(--win98-font-size-small);
  margin-top: var(--win98-spacing-1);
  line-height: var(--win98-line-height-normal);
  display: flex;
  align-items: center;
  gap: var(--win98-spacing-1);
}

.win98-field-message--error {
  color: var(--win98-error-text);
}

.win98-field-message--warning {
  color: var(--win98-warning-text);
}

.win98-field-message--success {
  color: var(--win98-success-text);
}

.win98-field-message--info {
  color: var(--win98-info-text);
}

/* Field message icons */
.win98-field-message__icon {
  width: 12px;
  height: 12px;
  flex-shrink: 0;
}

.win98-field-message--error::before {
  content: '×';
  display: inline-block;
  width: 12px;
  height: 12px;
  background-color: var(--win98-error-text);
  color: white;
  text-align: center;
  line-height: 12px;
  font-size: 10px;
  font-weight: bold;
  margin-right: var(--win98-spacing-1);
}

.win98-field-message--warning::before {
  content: '!';
  display: inline-block;
  width: 12px;
  height: 12px;
  background-color: var(--win98-warning-text);
  color: white;
  text-align: center;
  line-height: 12px;
  font-size: 10px;
  font-weight: bold;
  margin-right: var(--win98-spacing-1);
}

.win98-field-message--success::before {
  content: '✓';
  display: inline-block;
  width: 12px;
  height: 12px;
  background-color: var(--win98-success-text);
  color: white;
  text-align: center;
  line-height: 12px;
  font-size: 10px;
  font-weight: bold;
  margin-right: var(--win98-spacing-1);
}

/* Form layouts */
.win98-form--vertical {
  /* Default layout */
}

.win98-form--horizontal .win98-field {
  flex-direction: row;
  align-items: center;
  gap: var(--win98-spacing-md);
}

.win98-form--horizontal .win98-label {
  flex-shrink: 0;
  margin-bottom: 0;
}

.win98-form--inline .win98-field {
  display: inline-flex;
  margin-right: var(--win98-spacing-lg);
  margin-bottom: var(--win98-spacing-sm);
  width: auto;
}

/* Form sections */
.win98-form-section {
  margin-bottom: var(--win98-spacing-xl);
  padding-bottom: var(--win98-spacing-lg);
  border-bottom: var(--win98-border-width) solid var(--win98-control-dark);
}

.win98-form-section:last-child {
  margin-bottom: 0;
  padding-bottom: 0;
  border-bottom: none;
}

.win98-form-section__title {
  font-size: var(--win98-font-size-large);
  font-weight: var(--win98-font-weight-bold);
  color: var(--win98-window-text);
  margin-bottom: var(--win98-spacing-md);
  padding-bottom: var(--win98-spacing-sm);
  border-bottom: var(--win98-border-width) solid var(--win98-control-dark);
}

/* Required field indicators */
.win98-required-indicator {
  color: var(--win98-error-text);
  font-weight: var(--win98-font-weight-bold);
  margin-left: var(--win98-spacing-1);
}

.win98-required-legend {
  font-size: var(--win98-font-size-small);
  color: var(--win98-disabled-text);
  margin-bottom: var(--win98-spacing-md);
}

.win98-required-legend::before {
  content: '* ';
  color: var(--win98-error-text);
  font-weight: var(--win98-font-weight-bold);
}

/* Form buttons */
.win98-form-buttons {
  margin-top: var(--win98-spacing-lg);
  padding-top: var(--win98-spacing-md);
  border-top: var(--win98-border-width) solid var(--win98-control-dark);
  display: flex;
  gap: var(--win98-spacing-md);
  justify-content: flex-end;
}

.win98-form-buttons--left {
  justify-content: flex-start;
}

.win98-form-buttons--center {
  justify-content: center;
}

.win98-form-buttons--spread {
  justify-content: space-between;
}

.win98-form-buttons--vertical {
  flex-direction: column;
  align-items: flex-end;
}

/* Field validation states */
.win98-field--valid .win98-input,
.win98-field--valid .win98-textarea,
.win98-field--valid .win98-select {
  border-color: var(--win98-success-text);
}

.win98-field--invalid .win98-input,
.win98-field--invalid .win98-textarea,
.win98-field--invalid .win98-select {
  border-color: var(--win98-error-text);
}

.win98-field--warning .win98-input,
.win98-field--warning .win98-textarea,
.win98-field--warning .win98-select {
  border-color: var(--win98-warning-text);
}

/* Field focus within */
.win98-field:focus-within .win98-label {
  color: var(--win98-focus-color);
}

/* Responsive form layouts */
@media (max-width: 768px) {
  .win98-form--horizontal .win98-field {
    flex-direction: column;
    align-items: stretch;
    gap: var(--win98-spacing-sm);
  }
  
  .win98-field-row {
    flex-direction: column;
    gap: var(--win98-spacing-sm);
  }
  
  .win98-form-buttons {
    flex-direction: column;
    align-items: stretch;
  }
  
  .win98-label--fixed-width {
    width: auto;
  }
}

/* Print styles */
@media print {
  .win98-form {
    background: white !important;
    color: black !important;
  }
  
  .win98-field-group--boxed {
    border: 1px solid black !important;
  }
  
  .win98-field-message--error::before,
  .win98-field-message--warning::before,
  .win98-field-message--success::before {
    background: black !important;
    color: white !important;
  }
}